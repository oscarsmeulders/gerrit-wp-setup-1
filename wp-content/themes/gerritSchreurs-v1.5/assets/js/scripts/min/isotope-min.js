jQuery(document).ready(function($){function t(t,e){t.filter(function(){var t=this.getBoundingClientRect();return t.top>=0&&t.top<=window.innerHeight}).trigger(e)}function e(t){for(var e,a,i=t.length;i;e=parseInt(Math.random()*i),a=t[--i],t[i]=t[e],t[e]=a);return t}var a=$(window),i=$("img.ll"),n=$(".items");a.on("scroll",function(){t(i,"lazylazy")}),i.lazyload({effect:"fadeIn",failure_limit:Math.max(i.length-1,0),event:"lazylazy"}),$(".filters").on("click","button",function(){var t=$(this).attr("data-filter");changeClasses($(this)),window.location.hash=t.substr(1),n.isotope({filter:t}),$("html, body").animate({scrollTop:0},"fast")}),changeClasses=function(t){"filter-showall"==$(t).attr("id")?$(t).hasClass("hidden")?$(t).removeClass("hidden"):$(t).addClass("hidden").delay(200).queue(function(e){$(t).addClass("displayNone").dequeue()}):$("#filter-showall").removeClass("hidden displayNone"),$(".filters button").removeClass("active"),$(t).addClass("active")};var o=function(){var t=n.width(),e=1,a=0;return t>1500?e=6:t>1200?e=5:t>900?e=4:t>600?e=3:t>300&&(e=2),a=Math.floor(t/e),n.find(".item").each(function(){var t=$(this),e=t.attr("class").match(/item-w(\d)/),i=t.attr("class").match(/item-h(\d)/),n=e?a*e[1]:a,o=i?a*i[1]*.66666:.66666*a;t.css({width:n,height:o})}),a};isotope=function(){n.isotope({itemSelector:".item",masonry:{columnWidth:o()}})},isotope(),a.on("debouncedresize",isotope),n.isotope("on","layoutComplete",function(){t(i,"lazylazy")});var s=[];n.find(".item").each(function(){s.push($(this))}),e(s);for(var l=0;l<s.length;l++){var r=50*l;s[l].delay(r).queue(function(t){$(this).addClass("loaded").dequeue()})}});